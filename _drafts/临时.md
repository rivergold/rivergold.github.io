# Git with VPS
- [Shelton Blog: 搭建自己的git服务器](http://shelton13.github.io/2016/11/21/%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84git%E6%9C%8D%E5%8A%A1%E5%99%A8/)
- [Github LandChanning/DevNote 搭建Git服务器](https://github.com/LandChanning/DevNote/blob/master/20160716_%E6%90%AD%E5%BB%BAGit%E6%9C%8D%E5%8A%A1%E5%99%A8.md)

# dlib 

## dlib C++ build dynamic lib

***References:***

- [stackoverflow: Create a shared library for dlib](https://stackoverflow.com/questions/33996361/create-a-shared-library-for-dlib)

## convert OpenCV Mat into dlib

```c++
dlib::array2d<dlib::rgb_pixel> img;
dlib::assign_image(img, dlib::cv_image<dlib::bgr_pixel>(img_opencv));
```

***References:***

- [stackoverflow: OpenCV, dlib - image type conversion failes in a function; works outside](https://stackoverflow.com/q/35689213/4636081)

# C++

## rapidjson

### How to read dict of dict

```json
{"num": 1, "faces": {"face_0": [238, 100, 399, 313, 0]}}
```

```c++
Document d;
ifstream in_file;
in_file.ope("5b56e965b302c334074febb.json");
IStreamWrapper is(in_file);
d.ParseStream(isw);
StringBuffer buffer;
Writer<StringBuffer>writer(buffer);
d.Accept(writer);
auto V = d["faces".GetObject();
for(Value::ConstMemberIteator iter =V.MemberBegin(); iter!= V.MemberEnd(); +iter)
{
    printf("%s\t",iter->nameGetString());
    for (auto &v : iter->valueGetArray())
    {
        cout << v.GetInt() + 20 << endl;
    }
}
```

***References:***

- [stackoverflow: rapidjson extract key and value](https://stackoverflow.com/questions/23887079/rapidjson-extract-key-and-value)

## C++ how to list directory files not recursive

```c++
#include <boost/filesystem.hpp>
#include <boost/range/iterator_range.hpp>
#include <iostream>

using namespace boost::filesystem;

int main() 
{
    // path p(argc>1? argv[1] : ".");
    path p("/data/Manman-Star-Test-Face-Position");
    if(is_directory(p)) 
    {
        std::cout << p << " is a directory containing:\n";

        for(auto& entry : boost::make_iterator_range(directory_iterator(p), {}))
            std::cout << entry << "\n";
    }
}
```

***References:***

- [stackoverflow: boost directory_iterator example - how to list directory files not recursive](https://stackoverflow.com/a/20925615/4636081)

Convert `boost::filesystem::directory_iterator` into string.

```c++
string path = entry.path().string();
```

***References:***

- [stackoverflow: How to convert a boost::filesystem::directory_iterator to a const char *](https://stackoverflow.com/a/16318742/4636081)

## C++ string slice

```c++
#include <string>
string a("Hello world");
cout << a.substr(0, 5) << endl;
```

***References:***

- [stackoverflow: C++ equivalent of Python String Slice?](https://stackoverflow.com/a/27992321/4636081)

## C++ split string

Using `boost`

```c++
#include <boost/algorithm/string.hpp>
string a("test/qwe/asd");
vector<string> strs;
boost::split(strs, a, boost::is_any_of("\t"));
```

***References:***

- [stackoverflow: c++ boost split string](https://stackoverflow.com/a/5734491/4636081)

## Android

### NDK

- [Home](https://developer.android.com/ndk/guides/concepts)

原生开发工具包 (NDK) 是一组可让您在 Android 应用中利用 C 和 C++ 代码的工具。 可用以从您自己的源代码构建，或者利用现有的预构建库。

#### Install

***References:***

- [stackoverflow: Android studio Where to install NDK file? (downloaded it in zip)](https://stackoverflow.com/questions/40474050/android-studio-where-to-install-ndk-file-downloaded-it-in-zip)

<br>

***

<br>

# Caffe

## Good tutorials & blogs

- [Christopher Bourez's blog: Deep learning tutorial on Caffe technology : basic commands, Python and C++ code.](http://christopher5106.github.io/deep/learning/2015/09/04/Deep-learning-tutorial-on-Caffe-Technology.html)

## Using Python to generate caffe model.prototxt

```python
import caffe
from caffe import layers as L
from caffe import params as P

net = caffe.NetSpec()
net.data_big, net.label = L.ImageData(source='img-big.txt', batch_size=1, ntop=2)
net.data_small, net.label = L.ImageData(source='img-small.txt', batch_size=1, ntop=2)
net.interp = L.Interp(net.data_big, net.data_small)

with open('test.prototxt', 'w') as f:
    f.write(str(net.to_proto()))
```

`test.prototxt` is,

```prototxt
layer {
  name: "data_big"
  type: "ImageData"
  top: "data_big"
  top: "ImageData1"
  image_data_param {
    source: "img-big.txt"
    batch_size: 1
  }
}
layer {
  name: "data_small"
  type: "ImageData"
  top: "data_small"
  top: "label"
  image_data_param {
    source: "img-small.txt"
    batch_size: 1
  }
}
layer {
  name: "interp"
  type: "Interp"
  bottom: "data_big"
  bottom: "data_small"
  top: "interp"
}
```

***References:***

- [Blog: Programatically define nets with PyCaffe](http://www.tarekallamjr.com/blog/posts/Programatically-define-net-with-PyCaffe/)
- [CSDN: Caffe学习笔记（九）——python接口各网络层构建](https://blog.csdn.net/hong__fang/article/details/72804377)
- [Christopher Bourez's blog: Deep learning tutorial on Caffe technology : basic commands, Python and C++ code.](http://christopher5106.github.io/deep/learning/2015/09/04/Deep-learning-tutorial-on-Caffe-Technology.html)
- [CSDN: caffe.NetSpec](https://blog.csdn.net/u012762410/article/details/78899212)
- [Blog: 用python写caffe网络配置](http://manutdzou.github.io/2016/07/01/how-to-modify-caffe-network-with-python.html)

## Python run caffe net

```python
import caffe
from caffe import layers as L
from caffe import params as P

caffe.set_mode_cpu()

net = caffe.Net('test.prototxt', caffe.TRAIN)

result = net.forward()
print(result)
```

***References:***

- [Python Code Examples: Python caffe.Net() Examples](https://www.programcreek.com/python/example/83289/caffe.Net)

## Caffe deconvolution as Bi-Linear

***References:***

- [Caffe doc: caffe::BilinearFiller< Dtype > Class Template Reference](https://caffe.berkeleyvision.org/doxygen/classcaffe_1_1BilinearFiller.html)
- [Blog caffe中的deconvolution和upsample的區別？](https://www.pixpo.net/education/K_005pfe6q.html)
- [Github: tnarihi/upsampling-with-deconv-layer.ipynb](https://gist.github.com/tnarihi/54744612d35776f53278)

<br>

***

<br>

# Algorithm

## Bilinear Interpolation

Key: Find dst point coordinate in src.

***References:***

- [Mr.Easy Blog: OpenCV ——双线性插值（Bilinear interpolation）](https://www.cnblogs.com/yssongest/p/5303151.html)
- [知乎: 双线性插值 bilinear interpolation](https://zhuanlan.zhihu.com/p/22882367)