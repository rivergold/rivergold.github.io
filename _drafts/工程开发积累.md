# Database

- DBaaS: 数据库即服务

  **_Ref:_** [Oracle: 数据库即服务 (DBaaS) 概述](https://www.oracle.com/technetwork/cn/community/developer-day/2-dbaas-outline-1864781-zhs.pdf)

## NoSQL & SQL

**_References:_**

- [51CTO: 阿里 P8 架构师谈：NoSQL 和 SQL 的区别，NoSQL 的使用场景和选型比较](http://database.51cto.com/art/201808/582267.htm)

## MongoDB

### Install

Ubuntu

```bash
sudo apt install mongodb
```

**_Ref:_** [Digitalocean: ](https://www.digitalocean.com/community/tutorials/how-to-install-mongodb-on-ubuntu-18-04)

### PyMongo

#### Insert

#### Update and insert when not occur

```python
collection.update_one(
    {'you key to check exist or not': value},
    {
        '$set': dict((k, dict_data) for k in ['keys'], upsert=True)
    }
)
```

#### Delete collection

```py
db.drop_collection(<collection_name>)
```

**_Ref:_** [stackoverflow: How to drop a collection with pymongo?](https://stackoverflow.com/questions/48923682/how-to-drop-a-collection-with-pymongo)

#### Delete database

```python
client.drop_database(<database name>)
```

**_Ref:_** [stackoverflow: How do I drop a MongoDB database using PyMongo?](https://stackoverflow.com/questions/35463526/how-do-i-drop-a-mongodb-database-using-pymongo)

#### Add author

```bash
db.createUser(
  {
    user: "ait",
    pwd: "123",
    roles: [ { role: "userAdminAnyDatabase", db: "admin" } ],
    mechanisms: ["SCRAM-SHA-1"]
  }
)
```

**_Ref:_** [stackoverflow: MongoDB what are the default user and password?](https://stackoverflow.com/questions/38921414/mongodb-what-are-the-default-user-and-password/46873089)
