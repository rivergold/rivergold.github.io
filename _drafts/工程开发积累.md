# :fallen_leaf:Tensor Library

## ATen

A TENsor library for C++11

- [Github](https://github.com/zdevito/ATen)

<!--  -->
<br>

---

<br>
<!--  -->

# :fallen_leaf:Database

- DBaaS: 数据库即服务

  **_Ref:_** [Oracle: 数据库即服务 (DBaaS) 概述](https://www.oracle.com/technetwork/cn/community/developer-day/2-dbaas-outline-1864781-zhs.pdf)

## NoSQL & SQL

**_References:_**

- [51CTO: 阿里 P8 架构师谈：NoSQL 和 SQL 的区别，NoSQL 的使用场景和选型比较](http://database.51cto.com/art/201808/582267.htm)

<!--  -->
<br>

---

<br>
<!--  -->

# :fallen_leaf:MongoDB

[w3cschool.com: MongoDB 教程](https://www.w3cschool.cn/mongodb/nosql.html)
[w3schools.com: Python MongoDB](https://www.w3schools.com/python/python_mongodb_getstarted.asp)

## Install

**Ubuntu**

1. Edit `/etc/apt/sources.list.d` with followings

```bash
echo "deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
```

2. Update apt

```bash
sudo apt update
```

3. Install

```bash
sudo apt-get install -y mongodb-org
```

**_Ref:_** [MongoDB doc: Install MongoDB Community Edition on Ubuntu](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/)

**CentOS**

1. Create `/etc/yum.repos.d/mongodb-org-4.0.repo`

   ```bash
   [mongodb-org-4.0]
   name=MongoDB Repository
   baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.0/x86_64/
   gpgcheck=1
   enabled=1
   gpgkey=https://www.mongodb.org/static/pgp/server-4.0.asc
   ```

2. `sudo yum install -y mongodb-org`

**_Ref:_** [Mongodb doc: Install MongoDB Community Edition on Red Hat Enterprise or CentOS Linux](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/)

<!--  -->
<br>

---

<!--  -->

## mongo

### Config

```bash
net:
  port: 27017
  bindIp: 127.0.0.1, <your_computer_ip>

security:
  authorization: enabled
```

### Firewall allow

**Ubuntu `ufw`**

```bash
# Specify the ip that can access to MongoDB
sudo ufw allow <from ip> to any port 27017
# Allow any ip can access to MongoDB
sudo ufw allow 27017
```

**_Ref:_** [HowtoForge: How to Install and Configure MongoDB on Ubuntu 18.04 LTS](https://www.howtoforge.com/tutorial/install-mongodb-on-ubuntu/)

### Create user

- Admin user

  ```bash
  db.createUser(
  {
      user: "admin",
      pwd: "123",
      roles: [ { role: "userAdminAnyDatabase", db: "admin" } ]
  }
  )
  ```

- General user

  ```bash
  db.createUser(
  {
      user: "user_name",
      pwd: "123",
      roles: [ { role: "readWrite", db: "db_name" } ]
  }
  )
  ```

**_Ref:_** [简书: MongoDB 的用户创建更新及删除](https://www.jianshu.com/p/f5afc6488f9e)

### `use <databasename>`

### `show dbs`

### `show users`

### `db.createCollection('collection_name')`

<!--  -->
<br>

---

<!--  -->

## Problems and Solutions

### Run `mongod`, occur `exception in initAndListen: NonExistentPath: Data directory /data/db not found., terminating`

**_Solution:_**

```shell
mongod --config /etc/mongod.conf
```

<!--  -->
<br>

---

<!--  -->

## PyMongo

### Insert

### Update and insert when not occur

```python
collection.update_one(
    {'you key to check exist or not': value},
    {
        '$set': dict((k, dict_data) for k in ['keys'], upsert=True)
    }
)
```

### Delete collection

```py
db.drop_collection(<collection_name>)
```

**_Ref:_** [stackoverflow: How to drop a collection with pymongo?](https://stackoverflow.com/questions/48923682/how-to-drop-a-collection-with-pymongo)

### Delete database

```python
client.drop_database(<database name>)
```

**_Ref:_** [stackoverflow: How do I drop a MongoDB database using PyMongo?](https://stackoverflow.com/questions/35463526/how-do-i-drop-a-mongodb-database-using-pymongo)

<!--  -->
<br>

---

<br>
<!--  -->

# Airflow

**_Reference:_**

- [知乎: 机器学习生产环境中如何部署？](https://www.zhihu.com/question/34587216/answer/744594179?hb_wx_block=0&utm_source=ZHShareTargetIDMore&utm_medium=social&utm_oi=37839882420224)

- [知乎: Apache Airflow](https://zhuanlan.zhihu.com/p/36043468)

<!--  -->
<br>

---

<br>
<!--  -->

# 缩减软件发布大小

## Blogs

- [知乎专栏-嵌入式 AI: 软件发布前的库优化与裁剪：初识](https://zhuanlan.zhihu.com/p/72475595)

<!--  -->
<br>

---

<br>
<!--  -->

# QPS

每秒查询率

<!--  -->
<br>

---

<br>
<!--  -->

# 架构师的积累

## 【问题】训练好的深度学习模型如何管理

GitLab 和 GitHub 不适合管理非源码的文件，可以使用 **Artifactory Management Tool(产出物管理工具)**

jFrog 可以管理多种仓库，也可以管理文件（类似于文件服务器）,该种仓库叫做**Generic Repositories**

也可以使用其他的产出物管理工具，例如 Nexus

**_References:_**

- [jFrog wiki: Configuring Repositories](https://www.jfrog.com/confluence/display/RTF/Configuring+Repositories)
- [reddit: Alternatives to Artifactory](https://www.reddit.com/r/devops/comments/bn3xuu/alternatives_to_artifactory/)
- [sonatype: Continuously Manage Binaries and Build Artifacts](https://www.sonatype.com/nexus-vs-artifactory)
- [MindMajix: Repository Management Tools](https://mindmajix.com/10-repository-management-devops-tools)

<!--  -->
<br>

---

<br>
<!--  -->

# 爬虫

## chromedriver

**_References:_**

- [segmentfault: Python+Selenium+ChromeDriver 之浏览器爬虫入门](https://segmentfault.com/a/1190000015642808)

<!--  -->
<br>

---

<br>
<!--  -->

# 项目开发

1. 明确需求
2. 明确接口
3. 确认接口是否还会再修改
4. 输入的数据会不会从在什么异常

<!--  -->
<br>

---

<br>
<!--  -->

# jFrog

## Use jFrog and Gitlab CI

**_References:_**

- [jFrog: GitLab CI and Artifactory: On Your Mark, Get Set, Build!](https://jfrog.com/blog/gitlab-and-artifactory-on-your-mark-get-set-build/)

<!--  -->
<br>

---

<br>
<!--  -->

# ML Model Version Control

:star2:**Data Version Control (DVC)**

**_References:_**

- [Medium: Version Control ML Model](https://towardsdatascience.com/version-control-ml-model-4adb2db5f87c)
- [Algorithmia: How to version control your production machine learning models](https://algorithmia.com/blog/how-to-version-control-your-production-machine-learning-models)

<!--  -->
<br>

---

<br>
<!--  -->

# 堡垒机

**_References:_**

- [知乎: 运维人员如何搭建堡垒机（跳板机）？](https://www.zhihu.com/question/31175397)
- [IBM: 实战 SSH 端口转发](https://www.ibm.com/developerworks/cn/linux/l-cn-sshforward/index.html)

<!--  -->
<br>

---

<br>
<!--  -->

# MySQL

## Install

**CentOS**

```shell
yum -y install mariadb mariadb-server
```

**_References:_**

- [简书: Centos 7 下 mariadb 的安装与配置](https://www.jianshu.com/p/e67f1dbaa107)

---

## Config

```shell
mysql_secure_installation
```

### Get default passward of root

```shell
grep 'temporary password' /var/log/mysqld.log
```

**_References:_**

- [stackoverflow: What is the default root pasword for MySQL 5.7](https://stackoverflow.com/a/33991229/4636081)

---

## Test login

```shell
mysql -uroot -p
```

**_References:_**

- [Blog: CentOS 7 下 yum 安装 MariaDB](https://jaminzhang.github.io/mysql/yum-install-MariaDB-in-CentOS7/)

---

## Problem & Solution

### Failed to start mysqld.service: Unit not found.

**_References:_**

- [博客园: CentOS7 安装 mysql 后无法启动服务，提示 Unit not found](https://www.cnblogs.com/yuanchaoyong/p/9749060.html)
