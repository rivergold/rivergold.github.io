# Callback Function

A callback function is a function which is:

- accessible by another function `F`, and

- is invoked in function `F`

> A "callback" is any function that is called by another function which takes the first function as a parameter.

**通俗理解:**

`A` tells `B` when some condition is met to call `C`.

`C` is the **callback function**. `A` may be `main` function, `B` accept `C` as parameter and call `C` when some condition is met.

主程序`A`告诉一个函数`B`在某种情况满足时下，请执行函数`C`。 函数`C`为回调函数。一般`C`会作为参数传递给`B`。

E.G.

Keras callback function during training

```python
reduce_lr = ReduceLROnPlateau(monitor='val_loss', factor=0.2,
                              patience=5, min_lr=0.001)
model.fit(X_train, Y_train, callbacks=[reduce_lr])
```

**_Ref:_** [Keras Documentation: Usage of callbacks](https://keras.io/callbacks/)

**_References:_**

- [stackoverflow: What is a callback function](https://stackoverflow.com/questions/824234/what-is-a-callback-function)

- [stackoverflow: How to explain callbacks in plain english? How are they different from calling one function from another function?](https://stackoverflow.com/questions/9596276/how-to-explain-callbacks-in-plain-english-how-are-they-different-from-calling-o/9652434#9652434)

- [知乎: 回调函数（callback）是什么？](https://www.zhihu.com/question/19801131/answer/27459821)

<!-- - [Blog: Using Python decorators for registering callbacks](http://curiosityhealsthecat.blogspot.com/2013/07/using-python-decorators-for-registering_8614.html) -->

<!--  -->
<br>

---

<br>
<!--  -->

# Hooking Mechanism

**形象的理解: 相当于插件, 为现有代码加入功能**

**_Ref:_** [知乎: pytorch 中的钩子（Hook）有何作用？](https://www.zhihu.com/question/61044004/answer/294829738)

## Relationship between Hook and Callback

Callback is a method to implement hook programming.

**_Ref:_** [stackoverflow: What is meant by the term “hook” in programming?](https://stackoverflow.com/a/467568/4636081)

<!-- **Hook: 拦截消息并进行处理的函数**

**理解:** 当某个消息被发出时，hook 会捕捉到该消息并进行执行某些代码。

**_References:_**

- [知乎: pytorch 中的钩子（Hook）有何作用？](https://www.zhihu.com/question/61044004)
- [CSDN: 钩子(hook)编程](https://blog.csdn.net/mingojiang/article/details/7908818)
- [简书: 程序猿口中的 Hook 是什么意思？](https://www.jianshu.com/p/0eeb3885b2e1) -->

## Example

**_Ref:_** [CSDN: python 学习之路--hook(钩子原理和使用)](https://blog.csdn.net/Mybigkid/article/details/78383898)

<!--  -->
<br>

---

<br>
<!--  -->

# Model Parallelism & Data Parallelism

- 模型并行（model parallelism）:分布式系统中的不同机器（GPU/CPU 等）负责网络模型的不同部分 —— 例如，神经网络模型的不同网络层被分配到不同的机器，或者同一层内部的不同参数被分配到不同机器

- 数据并行（ data parallelism ）：不同的机器有同一个模型的多个副本，每个机器分配到不同的数据，然后将所有机器的计算结果按照某种方式合并

**_Ref:_** [CSDN: 分布式机器学习系统笔记（一）——模型并行，数据并行，参数平均，ASGD](https://blog.csdn.net/xbinworld/article/details/74781605)
